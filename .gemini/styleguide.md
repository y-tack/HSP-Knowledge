# HSP-Knowledge コードレビュースタイルガイド

## 記事投稿のレビュー方針

### 基本方針

HSP-Knowledge は、HSP（Hot Soup Processor）に関する知識を共有するコミュニティサイトです。
記事投稿のレビューでは、以下の方針に従ってください：

1. **建設的なフィードバック**: 改善提案は具体的かつ建設的に
2. **軽微な問題は許容**: 表現や書式の細かい問題は提案するが、マージを妨げない
3. **スパムは厳格に判定**: 明らかに不適切な内容やHSPと無関係な内容は却下
4. **初心者歓迎**: 技術的な正確性よりも、有益な情報共有を優先

### レビュー項目

#### 必須チェック項目（これらに問題がある場合はマージ不可）

1. **スパム判定**
   - HSPと全く無関係な内容
   - 広告や宣伝のみの内容
   - 意味のない文字列や乱文
   - 外部リンクへの過度な誘導
   - 著しく不適切な表現や攻撃的な内容

   **【重要】判定結果の出力形式**

   レビューコメントの最後に、必ず以下の判定タグを記述してください：

   - スパムまたは不適切と判断した場合: `[SPAM-CHECK: FAIL]`
   - 問題なく、内容が適切と判断した場合: `[SPAM-CHECK: PASS]`

   この判定タグは自動マージシステムが読み取ります。必ず記述してください。

2. **基本形式**
   - Front Matter（YAML）が正しく記述されている
   - 必須フィールド（title, date, author, tags, summary）が存在する
   - ファイル名が `YYYY-MM-DD-title.md` 形式である
   - テンプレートファイル名（`-new-article.md`等）でない

3. **更新時の検証**
   - 既存記事の更新時、投稿者名（author）が変更されていない

#### 改善提案項目（提案するが、マージは可能）

以下の項目について改善提案をしてください。ただし、これらの問題があってもマージを妨げないでください：

1. **Markdown書式の改善**
   - リンクの表示方法（URLをそのまま表示せず、説明的なテキストを使用）
   - リストの整形
   - コードブロックの言語指定
   - 見出しレベルの適切な使用

2. **表現の明確化**
   - 曖昧な表現の改善提案
   - 専門用語の説明追加提案
   - 図表の追加提案
   - 図のサイズ指定（無し・820px超えの横幅はCritical、600px超えはWarn：推奨は100%以下の%形式）

3. **コード例の改善**
   - より分かりやすいコード例の提案
   - コメントの追加提案
   - エラーハンドリングの追加提案

4. **構造化の提案**
   - メタデータの整理
   - セクション分けの改善
   - 関連記事へのリンク追加

### レビューコメントの書き方

#### 重要度の指定

- **CRITICAL**: スパムや明らかな規約違反（マージ不可）
- **HIGH**: 重要な技術的誤りや誤解を招く内容（修正推奨）
- **MEDIUM**: 改善することでより良くなる提案（デフォルト）
- **LOW**: 細かい書式や表現の改善提案

#### コメント例

**CRITICAL（マージ不可）:**
```markdown
![critical](https://www.gstatic.com/codereviewagent/critical-priority.svg)

この記事はHSPと無関係な内容です。HSPに関連する技術的な内容に変更してください。
```

**MEDIUM（改善提案、マージ可能）:**
```markdown
![medium](https://www.gstatic.com/codereviewagent/medium-priority.svg)

リンクの表示方法についてです。URLをそのままリンクテキストとして表示するのではなく、
リンク先の内容がわかるような説明的なテキストを設定することをお勧めします。

\`\`\`suggestion
[作品ページ](https://dev.onionsoft.net/seed/info.ax?id=2622)
\`\`\`
```

**LOW（細かい改善提案）:**
```markdown
![low](https://www.gstatic.com/codereviewagent/low-priority.svg)

コードブロックに言語指定を追加すると、シンタックスハイライトが適用されます。

\`\`\`suggestion
\`\`\`hsp
mes "Hello, HSP!"
\`\`\`
\`\`\`
```

### HSP特有の配慮事項

1. **バージョンの明記**: HSP2/HSP3の違いに注意
2. **プラットフォーム**: Windows/Linux/macOSの違いに配慮
3. **拡張機能**: HGIMG、HSPCV等の拡張機能の説明
4. **コミュニティ文化**: HSPコミュニティの文化や慣習を尊重

### 自動マージについて

以下の条件を満たす記事は、投稿者が `/publish` コマンドを使用することで自動マージされます：

- ✅ スパム判定されていない
- ✅ 基本形式が正しい
- ✅ 更新時は投稿者名が変更されていない

**軽微な改善提案（MEDIUM、LOW）があっても自動マージは可能です。**
投稿者の判断で、提案を反映してから `/publish` するか、そのまま `/publish` するかを選択できます。

### レビュー時の態度

- 🎓 **教育的**: 改善方法を具体的に示す
- 🤝 **協力的**: 投稿者と一緒により良い記事を作る姿勢
- 🌟 **ポジティブ**: 良い点も積極的に評価する
- 🚀 **効率的**: 重要な問題に焦点を当てる

---

このスタイルガイドに従って、HSP-Knowledgeコミュニティの成長を支援してください！